# templates/kubeadm-config.yaml.j2

---
apiVersion: kubeadm.k8s.io/v1beta3
kind: InitConfiguration
nodeRegistration:
  kubeletExtraArgs:
    node-ip: "{{ ansible_host }}"
---
apiVersion: kubeadm.k8s.io/v1beta3
kind: ClusterConfiguration
kubernetesVersion: "{{ kubernetes_version }}"
controlPlaneEndpoint: "{{ inventory_hostname }}:6443"
networking:
  podSubnet: "{{ pod_network_cidr }}"
